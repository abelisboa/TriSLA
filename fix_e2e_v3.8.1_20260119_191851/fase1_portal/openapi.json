{"openapi":"3.1.0","info":{"title":"TRISLA - GARANTIA DE SLA EM REDES 5G/O-RAN","description":"API para gerenciamento de SLA em redes 5G/O-RAN","version":"3.7.21"},"paths":{"/api/v1/sla/interpret":{"post":{"tags":["SLA"],"summary":"Interpret Sla","description":"Interpretação PLN → Ontologia (REAL)\n\nChama módulo SEM-CSMF REAL do NASP:\n- Retorna tipo de slice\n- Retorna parâmetros técnicos interpretados\n- Retorna mensagens de erro semânticas quando houver\n- Nunca aceita entrada inválida","operationId":"interpret_sla_api_v1_sla_interpret_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SLAInterpretRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/sla/submit":{"post":{"tags":["SLA"],"summary":"Submit Sla Template","description":"Submissão com TODOS os módulos TriSLA\n\nFluxo REAL completo:\n1. SEM-CSMF: Interpreta template e gera NEST\n2. ML-NSMF: Avalia capacidades e recursos\n3. Decision Engine: Decisão final (ACCEPT/REJECT)\n4. BC-NSSMF: Registro no blockchain\n\nResposta padronizada conforme especificação","operationId":"submit_sla_template_api_v1_sla_submit_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SLASubmitRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SLASubmitResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/sla/status/{sla_id}":{"get":{"tags":["SLA"],"summary":"Get Sla Status","description":"Status do SLA\n\nConsulta em tempo real ao NASP - SEM cache local","operationId":"get_sla_status_api_v1_sla_status__sla_id__get","parameters":[{"name":"sla_id","in":"path","required":true,"schema":{"type":"string","title":"Sla Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SLAStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/sla/metrics/{sla_id}":{"get":{"tags":["SLA"],"summary":"Get Sla Metrics","description":"Métricas Reais do NASP (SLOs)\n\nRetorna métricas REAIS padronizadas:\n- latency_ms\n- jitter_ms\n- throughput_ul\n- throughput_dl\n- packet_loss\n- availability\n- slice_status (ACTIVE | FAILED | PENDING | TERMINATED)\n- last_update (ISO8601)\n\nConsulta REAL a cada chamada - SEM cache local\nSe NASP offline → erro 503","operationId":"get_sla_metrics_api_v1_sla_metrics__sla_id__get","parameters":[{"name":"sla_id","in":"path","required":true,"schema":{"type":"string","title":"Sla Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SLAMetricsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health Check","description":"Health check básico do Portal.\nPara diagnóstico detalhado do NASP, usar /nasp/diagnostics.","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/health":{"get":{"tags":["health"],"summary":"Health V1","description":"Alias para /health - retrocompatibilidade com frontend que espera /api/v1/health","operationId":"health_v1_api_v1_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/nasp/diagnostics":{"get":{"summary":"Nasp Diagnostics","description":"Retorna o estado de conectividade entre o Portal e todos os módulos NASP.\n\nVerifica:\n- SEM-CSMF (localhost:8080)\n- ML-NSMF (localhost:8081)\n- Decision Engine (localhost:8082)\n- BC-NSSMF (localhost:8083)\n- SLA-Agent Layer (localhost:8084)\n\nRetorna latência, status de conexão e detalhes de erro (se houver).","operationId":"nasp_diagnostics_nasp_diagnostics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NASPDiagnosticsResponse"}}}}}}}},"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"NASPDiagnosticsResponse":{"properties":{"sem_csmf":{"$ref":"#/components/schemas/NASPModuleStatus"},"ml_nsmf":{"$ref":"#/components/schemas/NASPModuleStatus"},"decision":{"$ref":"#/components/schemas/NASPModuleStatus"},"bc_nssmf":{"$ref":"#/components/schemas/NASPModuleStatus"},"sla_agent":{"$ref":"#/components/schemas/NASPModuleStatus"}},"type":"object","required":["sem_csmf","ml_nsmf","decision","bc_nssmf","sla_agent"],"title":"NASPDiagnosticsResponse","description":"Resposta completa do diagnóstico NASP"},"NASPModuleStatus":{"properties":{"reachable":{"type":"boolean","title":"Reachable"},"latency_ms":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Latency Ms"},"detail":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Detail"},"status_code":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Status Code"},"rpc_connected":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Rpc Connected"}},"type":"object","required":["reachable"],"title":"NASPModuleStatus","description":"Status de um módulo NASP individual"},"SLAInterpretRequest":{"properties":{"intent":{"type":"string","title":"Intent"},"tenant_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tenant Id","default":"default"}},"type":"object","required":["intent"],"title":"SLAInterpretRequest","description":"Request para interpretar PNL e enviar ao SEM-CSMF REAL - Payload minimalista"},"SLAMetricsResponse":{"properties":{"sla_id":{"type":"string","title":"Sla Id"},"slice_status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Slice Status"},"latency_ms":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Latency Ms"},"jitter_ms":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Jitter Ms"},"throughput_ul":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Throughput Ul"},"throughput_dl":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Throughput Dl"},"packet_loss":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Packet Loss"},"availability":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Availability"},"last_update":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Update"},"tenant_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tenant Id"},"metrics":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metrics"}},"type":"object","required":["sla_id"],"title":"SLAMetricsResponse","description":"Resposta padronizada com métricas REAIS do SLA (SLOs do NASP)\nTodos os campos vêm do NASP - SEM simulação"},"SLAStatusResponse":{"properties":{"sla_id":{"type":"string","title":"Sla Id"},"status":{"type":"string","title":"Status"},"tenant_id":{"type":"string","title":"Tenant Id"},"intent_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Intent Id"},"nest_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nest Id"},"created_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["sla_id","status","tenant_id"],"title":"SLAStatusResponse","description":"Resposta com status do SLA (REAL do NASP)"},"SLASubmitRequest":{"properties":{"template_id":{"type":"string","title":"Template Id"},"form_values":{"additionalProperties":true,"type":"object","title":"Form Values"},"tenant_id":{"type":"string","title":"Tenant Id","default":"default"}},"type":"object","required":["template_id","form_values"],"title":"SLASubmitRequest","description":"Request para enviar template técnico ao NASP (Decision Engine REAL)\nConforme Capítulo 4 - Arquitetura TriSLA"},"SLASubmitResponse":{"properties":{"intent_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Intent Id"},"service_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Service Type"},"sla_requirements":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Sla Requirements"},"ml_prediction":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Ml Prediction"},"decision":{"type":"string","title":"Decision"},"justification":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Justification"},"reason":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reason"},"blockchain_tx_hash":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Blockchain Tx Hash"},"tx_hash":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tx Hash"},"sla_hash":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sla Hash"},"timestamp":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Timestamp"},"status":{"type":"string","title":"Status","default":"ok"},"sla_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sla Id"},"nest_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nest Id"},"sem_csmf_status":{"type":"string","title":"Sem Csmf Status","default":"ERROR"},"ml_nsmf_status":{"type":"string","title":"Ml Nsmf Status","default":"ERROR"},"bc_status":{"type":"string","title":"Bc Status","default":"ERROR"},"sla_agent_status":{"type":"string","title":"Sla Agent Status","default":"SKIPPED"},"block_number":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Block Number"}},"type":"object","required":["decision"],"title":"SLASubmitResponse","description":"Resposta padronizada para POST /api/v1/sla/submit\nTodos os campos vêm dos módulos reais - SEM simulação\nResposta unificada do pipeline completo\nConforme Capítulos 4, 5 e 6 da dissertação"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}